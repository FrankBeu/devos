<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <p>
	Copyright &copy; {{ now.Year }}
	<a href="{{ .Site.Params.website }}">{{ .Site.Params.author }}</a>.
	All rights reserved.
	Made with <i class="fa fa-heart" aria-hidden="true"></i> and <a href="https://gohugo.io">Hugo</a>.
      </p>
    </div>
  </div>
</footer>

<script>
  document.addEventListener('DOMContentLoaded', function () {

      // Get all "navbar-burger" elements
      var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

      // Check if there are any navbar burgers
      if ($navbarBurgers.length > 0) {

          // Add a click event on each of them
          $navbarBurgers.forEach(function ($el) {
              $el.addEventListener('click', function () {

                  // Get the target from the "data-target" attribute
                  var target = $el.dataset.target;
                  var $target = document.getElementById(target);

                  // Toggle the class on both the "navbar-burger" and the "navbar-menu"
                  $el.classList.toggle('is-active');
                  $target.classList.toggle('is-active');


                  document.getElementById('navbar-background').classList.toggle('is-active');


              });
          });
      }

      //// Add anchors to headers
      let svg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="2 -5 24 24" width="17" height="17" transform="scale(0.8)" xml:space="preserve"><path style="fill:#f25511;stroke:#ffc533;stroke-opacity:1;stroke-linejoin:round;fill-opacity:1" d="m12 2.602 4.596 7.96 4.596 7.96H2.808l4.596-7.96z"/><path style="fill:#2e2a31;fill-opacity:1;stroke:none;stroke-linejoin:round;stroke-opacity:1" d="m12 6.529 2.938 5.088 2.937 5.088H6.125l2.937-5.088z"/></svg>';

      let contents = document.getElementsByClassName("content");
      if (contents.length > 0) {
	  let content = contents[0];
	  for (let level = 1; level <= 4; level++) {
	      let elems = content.getElementsByTagName("h" + level);
	      for (let i = 0; i < elems.length; i++) {
		  let elem = elems[i];
		  if (elem.id !== "undefined" && elem.id !== "") {
		      let anchorId = elem.id + "-anchor";
		      elem.addEventListener("mouseover", () => {
			  document.getElementById(anchorId).style.display = "initial";
		      });
		      elem.addEventListener("mouseout", () => {
			  document.getElementById(anchorId).style.display = "none";
		      });
		      let anchor = document.createElement("a");
		      anchor.id = anchorId;
		      anchor.href = "#" + elem.id;
		      anchor.innerHTML = svg;
		      anchor.style.display = "none";

		      anchor.onclick = function () {
			  var dummy = document.createElement('input'),
			      text = anchor.href;
			  document.body.appendChild(dummy);
			  dummy.value = text;
			  dummy.select();
			  document.execCommand('copy');
			  document.body.removeChild(dummy);
		      };

		      elem.appendChild(anchor);
		  }
	      }
	  }
      }

  });
  </script>

</body>
</html>
